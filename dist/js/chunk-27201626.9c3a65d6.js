(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-27201626"],{3499:function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"a",function(){return d}),n.d(t,"h",function(){return l}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"i",function(){return c}),n.d(t,"g",function(){return m});var a=n("9bd2");function o(){return Object(a.a)({url:"lab",method:"get"})}function i(){return Object(a.a)({url:"lab/gettype",method:"get"})}function d(e){return Object(a.a)({url:"admin/lab/add",method:"post",data:e})}function l(e,t){return Object(a.a)({url:"admin/lab/update/"+e,method:"post",data:t})}function r(e){return Object(a.a)({url:"admin/lab/delete/"+e,method:"post"})}function s(){return Object(a.a)({url:"admin/reserve/list",method:"get"})}function u(e){return Object(a.a)({url:"admin/reserve/detail/"+e,method:"get"})}function c(e,t){return Object(a.a)({url:"admin/reserve/update/"+e,method:"post",data:t})}function m(e,t){return Object(a.a)({url:"admin/reserve/review/"+e+"/"+t,method:"post"})}},"74dd":function(e,t,n){"use strict";n.r(t);n("7f7f"),n("ac6a");var o=n("3499"),a={data:function(){return{columns:[{title:"实验室id",key:"lab_id",width:"180"},{title:"实验室名字",key:"lab_name",width:"180"},{title:"座位数",key:"seat_num",width:"120"},{title:"类型",key:"lab_type_id",width:"180",formatter:this.type2text},{title:"状态",key:"s",width:"120",formatter:this.s2text}],data:[],type:{},type_select:[],options:{stripe:!0},addTemplate:{lab_id:{title:"实验室id"},lab_name:{title:"实验室名字"},seat_num:{title:"座位数",value:20,component:{name:"el-input-number"}},s:{title:"状态",value:0,component:{name:"el-select",options:[{label:"开放",value:0},{label:"关闭",value:1}]}},lab_type_id:{title:"类型",component:{name:"el-select",options:[]}}},formOptions:{labelWidth:"100px",labelPosition:"left",saveLoading:!1},rowHandle:{columnHeader:"操作",edit:{icon:"el-icon-edit",text:"编辑",size:"small"},remove:{icon:"el-icon-delete",size:"small",fixed:"right",confirm:!0},custom:[{text:"详情",type:"warning",size:"small",emit:"custom-emit-1"}]}}},created:function(){var t=this;Object(o.e)().then(function(e){e.forEach(function(e){t.type[e.id]=e.name,t.addTemplate.lab_type_id.component.options.push({value:e.id,label:e.name})})})},mounted:function(){var t=this;Object(o.d)().then(function(e){t.data=e})},methods:{s2text:function(e,t,n,a){return 0==n?"开放":"不开放"},type2text:function(e,t,n,a){return this.type[n]},handleDialogOpen:function(e){e.mode},addRow:function(){this.$refs.d2Crud.showDialog({mode:"add"})},handleRowAdd:function(e,t){var n=this;this.formOptions.saveLoading=!0,setTimeout(function(){Object(o.a)(e).then(function(e){n.$message({message:"添加成功",type:"success"}),t(e)}),n.formOptions.saveLoading=!1},300)},handleRowEdit:function(e,t){var n=this,a=(e.index,e.row);this.formOptions.saveLoading=!0,setTimeout(function(){Object(o.h)(a.lab_id,a).then(function(e){n.$message({message:"更新成功",type:"success"}),t(e)}),n.formOptions.saveLoading=!1},300)},handleRowRemove:function(e,t){var n=this,a=(e.index,e.row);setTimeout(function(){Object(o.b)(a.lab_id).then(function(e){n.$message({message:"删除成功",type:"success"}),t()})},300)},handleDialogCancel:function(e){this.$message({message:"取消保存",type:"warning"}),e()},handleCustomEvent:function(e){e.index;var t=e.row;this.$router.push({name:"实验室介绍",params:{labid:t.lab_id}})}}},i=n("2877"),d=function(e){e.options.__source="src/views/lab/lab.vue"},l=Object(i.a)(a,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("d2-container",[n("template",{slot:"header"},[e._v("实验室列表")]),n("div",[n("d2-crud",{ref:"d2Crud",attrs:{"add-template":e.addTemplate,columns:e.columns,data:e.data,"edit-template":e.addTemplate,"form-options":e.formOptions,rowHandle:e.rowHandle,"add-title":"新增实验室","edit-title":"修改实验室"},on:{"custom-emit-1":e.handleCustomEvent,"dialog-cancel":e.handleDialogCancel,"dialog-open":e.handleDialogOpen,"row-add":e.handleRowAdd,"row-edit":e.handleRowEdit,"row-remove":e.handleRowRemove}},[n("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{slot:"header"},on:{click:e.addRow},slot:"header"},[e._v("新增")])],1)],1),n("template",{slot:"footer"})],2)},[],!1,null,null,null);"function"==typeof d&&d(l);t.default=l.exports}}]);