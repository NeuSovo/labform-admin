(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1adeb9ea"],{3499:function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"e",function(){return u}),n.d(e,"j",function(){return r}),n.d(e,"f",function(){return s}),n.d(e,"a",function(){return o}),n.d(e,"i",function(){return c}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return l}),n.d(e,"g",function(){return h}),n.d(e,"k",function(){return m}),n.d(e,"h",function(){return f});var a=n("9bd2");function i(){return Object(a.a)({url:"lab",method:"get"})}function u(t){return Object(a.a)({url:"lab/detail/"+t,method:"get"})}function r(t,e){return Object(a.a)({url:"admin/lab/detail/update/"+t,method:"post",data:e})}function s(){return Object(a.a)({url:"lab/gettype",method:"get"})}function o(t){return Object(a.a)({url:"admin/lab/add",method:"post",data:t})}function c(t,e){return Object(a.a)({url:"admin/lab/update/"+t,method:"post",data:e})}function d(t){return Object(a.a)({url:"admin/lab/delete/"+t,method:"post"})}function l(t,e,n){return Object(a.a)({url:"admin/reserve/list?status=".concat(t,"&page=").concat(e,"&limit=").concat(n),method:"get"})}function h(t){return Object(a.a)({url:"admin/reserve/detail/"+t,method:"get"})}function m(t,e){return Object(a.a)({url:"admin/reserve/update/"+t,method:"post",data:e})}function f(t,e){return Object(a.a)({url:"admin/reserve/review/"+t+"/"+e,method:"post"})}},"4d1a":function(t,e,n){"use strict";n.r(e);var a=n("3499"),i={data:function(){return{columns:[{title:"#",key:"id",width:"60"},{title:"创建时间",key:"created_at",width:"200"},{title:"状态",key:"status",width:"70",formatter:this.s2text,filters:[{text:"通过",value:1},{text:"待审核",value:0},{text:"不通过",value:-1}],filterMethod:function(t,e){return e.status===t},filterPlacement:"bottom-end"},{title:"实验室",key:"lab_id",width:"180"},{title:"用户",key:"uid",width:"70"},{title:"联系方式",key:"mobile",width:"100"},{title:"人数",key:"user_num",width:"50"}],data:[],rowHandle:{custom:[{text:"不通过",type:"error",size:"small",emit:"custom-emit-3"},{text:"详情",type:"warning",size:"small",emit:"custom-emit-1"}]},page:1,pageCount:0,pageSize:50}},mounted:function(){var e=this;Object(a.c)(1,this.page,this.pageSize).then(function(t){e.data=t.data,e.pageCount=t.count})},methods:{s2text:function(t,e,n,a){return 0==n?"待审核":1==n?"通过":"不通过"},Detail:function(t){t.index;var e=t.row;this.$router.push({name:"预约记录详情",params:{recordid:e.id}})},Pass:function(t){var e=this,n=(t.index,t.row);-1!=n.status?1!=n.status?setTimeout(function(){Object(a.h)(n.id,1).then(function(t){e.$message({message:"审核成功",type:"success"}),n.status=1,done()})},300):this.$message({message:"审核成功",type:"success"}):this.$message({message:"已取消的预约记录不能审核通过啦",type:"warnning"})},Reject:function(t){var e=this,n=(t.index,t.row);-1!=n.status?setTimeout(function(){Object(a.h)(n.id,-1).then(function(t){e.$message({message:"取消成功",type:"success"}),n.status=-1,done()})},300):this.$message({message:"取消成功",type:"success"})},handleSizeChange:function(t){this.pageSize=t,this.refreshData()},handleCurrentChange:function(t){this.page=t,this.refreshData()},refreshData:function(){var e=this;Object(a.c)(1,this.page,this.pageSize).then(function(t){e.data=t.data,e.pageCount=t.count})}}},u=n("2877"),r=function(t){t.options.__source="src/views/lab/reserve/reserve.1.vue"},s=Object(u.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("d2-container",[n("template",{slot:"header"},[t._v("实验室预约列表 - 已通过")]),n("span",[t._v("注意：1.已通过的可以取消，但是已取消的不能再次通过，2.取消的将会删除所有预约信息。预约记录变为不可见")]),n("d2-crud",{ref:"d2Crud",attrs:{columns:t.columns,data:t.data,rowHandle:t.rowHandle},on:{"custom-emit-1":t.Detail,"custom-emit-2":t.Pass,"custom-emit-3":t.Reject}}),n("template",{slot:"footer"},[n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"page-size":t.pageSize,"page-sizes":[50,100,200,300],total:t.pageCount,layout:"sizes, prev, pager, next"},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])],2)},[],!1,null,null,null);"function"==typeof r&&r(s);e.default=s.exports}}]);