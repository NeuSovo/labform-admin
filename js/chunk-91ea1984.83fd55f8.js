(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-91ea1984"],{3499:function(t,e,n){"use strict";n.d(e,"d",function(){return u}),n.d(e,"e",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"h",function(){return a}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return c}),n.d(e,"f",function(){return d}),n.d(e,"i",function(){return m}),n.d(e,"g",function(){return l});var s=n("9bd2");function u(){return Object(s.a)({url:"lab",method:"get"})}function i(){return Object(s.a)({url:"lab/gettype",method:"get"})}function r(t){return Object(s.a)({url:"admin/lab/add",method:"post",data:t})}function a(t,e){return Object(s.a)({url:"admin/lab/update/"+t,method:"post",data:e})}function o(t){return Object(s.a)({url:"admin/lab/delete/"+t,method:"post"})}function c(){return Object(s.a)({url:"admin/reserve/list",method:"get"})}function d(t){return Object(s.a)({url:"admin/reserve/detail/"+t,method:"get"})}function m(t,e){return Object(s.a)({url:"admin/reserve/update/"+t,method:"post",data:e})}function l(t,e){return Object(s.a)({url:"admin/reserve/review/"+t+"/"+e,method:"post"})}},"9c35":function(t,e,n){"use strict";n.r(e);var s=n("3499"),u={data:function(){return{columns:[{title:"id",key:"id",width:"50"},{title:"创建时间",key:"created_at",width:"200"},{title:"状态",key:"status",width:"70",formatter:this.s2text,filters:[{text:"通过",value:1},{text:"待审核",value:0},{text:"不通过",value:-1}],filterMethod:function(t,e){return e.status===t},filterPlacement:"bottom-end"},{title:"实验室",key:"lab_id",width:"180"},{title:"用户",key:"uid",width:"70"},{title:"联系方式",key:"mobile",width:"100"},{title:"人数",key:"user_num",width:"50"}],data:[],rowHandle:{custom:[{text:"通过",type:"success",size:"small",emit:"custom-emit-2"},{text:"不通过",type:"error",size:"small",emit:"custom-emit-3"},{text:"详情",type:"warning",size:"small",emit:"custom-emit-1"}]}}},mounted:function(){var e=this;Object(s.c)().then(function(t){e.data=t})},methods:{s2text:function(t,e,n,s){return 0==n?"待审核":1==n?"通过":"不通过"},Detail:function(t){t.index;var e=t.row;this.$router.push({name:"预约记录详情",params:{recordid:e.id}})},Pass:function(t){var e=this,n=(t.index,t.row);-1!=n.status?1!=n.status?setTimeout(function(){Object(s.g)(n.id,1).then(function(t){e.$message({message:"审核成功",type:"success"}),n.status=1,done()})},300):this.$message({message:"审核成功",type:"success"}):this.$message({message:"已取消的预约记录不能审核通过啦",type:"warnning"})},Reject:function(t){var e=this,n=(t.index,t.row);-1!=n.status?setTimeout(function(){Object(s.g)(n.id,-1).then(function(t){e.$message({message:"取消成功",type:"success"}),n.status=-1,done()})},300):this.$message({message:"取消成功",type:"success"})}}},i=n("2877"),r=function(t){t.options.__source="src/views/lab/reserve.vue"},a=Object(i.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("d2-container",[n("template",{slot:"header"},[t._v("实验室预约列表")]),n("span",[t._v("注意：1.已通过的可以取消，但是已取消的不能再次通过，2.取消的将会删除所有预约信息。预约记录变为不可见")]),n("d2-crud",{ref:"d2Crud",attrs:{columns:t.columns,data:t.data,rowHandle:t.rowHandle},on:{"custom-emit-1":t.Detail,"custom-emit-2":t.Pass,"custom-emit-3":t.Reject}}),n("template",{slot:"footer"})],2)},[],!1,null,null,null);"function"==typeof r&&r(a);e.default=a.exports}}]);